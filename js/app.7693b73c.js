(function(){var e={3808:function(e,t,n){"use strict";var r=n(9963),a=n(6252);function o(e,t,n,r,o,s){const i=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(i)}var s=n(2119),i=n(5137),l=(0,a.aZ)({setup:()=>{const e=(0,s.tv)();i.g.addListener("backButton",(()=>{"/"===e.currentRoute.value.fullPath?i.g.exitApp():e.back()}))}}),c=n(3744);const u=(0,c.Z)(l,[["render",o]]);var p=u,h=n(3577);const d=e=>((0,a.dD)("data-v-4c09f5a8"),e=e(),(0,a.Cn)(),e),E={id:"view-container"},g={id:"logo-container"},m=d((()=>(0,a._)("img",{alt:"ToberQuizz logo",src:"/logo256x256.png"},null,-1))),C=["innerHTML"],_=["innerHTML"],v={id:"share-button"},b=["href"],w={class:"regular list-heading"},A=["onClick"];function y(e,t,n,r,o,s){const i=(0,a.up)("ShareIcon"),l=(0,a.up)("ArrowRight");return(0,a.wg)(),(0,a.iD)("div",E,[(0,a._)("div",g,[m,(0,a._)("div",null,[(0,a._)("p",{innerHTML:e.t("HOME_VIEW.FREE_CHALLENGES")},null,8,C),(0,a._)("p",{innerHTML:e.t("HOME_VIEW.ETHICAL_TECHNOLOGY")},null,8,_)])]),(0,a._)("p",v,[(0,a._)("a",{href:"whatsapp://send?text="+e.t("HOME_VIEW.SHARE_MESSAGE"),"data-action":"share/whatsapp/share",target:"_blank"},[(0,a.Uk)((0,h.zw)(e.t("HOME_VIEW.SHARE"))+" ",1),(0,a.Wm)(i,{color:"#ffa316"})],8,b)]),(0,a._)("div",null,[(0,a._)("p",w,(0,h.zw)(e.t("HOME_VIEW.SELECT_A_COUNTRY")),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.quizzCountries,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"list-item",key:t,onClick:n=>e.goToChallengeListView(t)},[(0,a._)("p",null,(0,h.zw)(e.t(`COUNTRY_LIST.${t}`)+" ("+e.t(`LANGUAGE_LIST.${t}`)+")"),1),(0,a.Wm)(l)],8,A)))),128))])])}var f,N=n(9150),S=n(8598);class L{constructor(e="",t=[],n=""){(0,S.Z)(this,"description",void 0),(0,S.Z)(this,"questions",void 0),(0,S.Z)(this,"startingDate",void 0),this.description=e,this.questions=t,this.startingDate=n}clone(){return new L(this.description,this.questions,this.startingDate)}merge(e){return Object.assign(this.clone(),e)}fillAnswers(e){const t=this.questions.map(((t,n)=>({...t,answer:e[n]})));return this.merge({questions:t})}answerQuestion(e,t){const n=this.questions.map(((n,r)=>r===e-1?{...n,answer:t}:{...n}));return this.merge({questions:n})}checkQuestion(e,t){const n=this.questions.map(((n,r)=>r===e-1?{...n,isCorrect:t}:{...n}));return this.merge({questions:n})}}(function(e){e["Spain"]="ES",e["WorldWide"]="WW"})(f||(f={}));const T={width:"24",height:"27",viewBox:"0 0 10 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O=["fill"];function I(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("svg",T,[(0,a._)("path",{d:"M1.3641 0.657318C1.17484 0.456231 0.858405 0.446642 0.657318\n    0.6359C0.456231 0.825158 0.446642 1.1416 0.6359 1.34268L1.3641 0.657318ZM9\n    9.5L9.3641 9.84268C9.5453 9.65016 9.5453 9.34984 9.3641 9.15732L9\n    9.5ZM0.6359 17.6573C0.446642 17.8584 0.456231 18.1748 0.657318\n    18.3641C0.858405 18.5534 1.17484 18.5438 1.3641 18.3427L0.6359\n    17.6573ZM0.6359 1.34268L8.6359 9.84268L9.3641 9.15732L1.3641 0.657318L0.6359\n    1.34268ZM8.6359 9.15732L0.6359 17.6573L1.3641 18.3427L9.3641 9.84268L8.6359\n    9.15732Z",fill:e.color},null,8,O)])}var R=(0,a.aZ)({props:{color:{type:String,required:!1,default:"#170A09"}}});const H=(0,c.Z)(R,[["render",I]]);var z=H;const k=["fill"],G=(0,a._)("path",{d:"M 18 2 A 3 3 0 0 0 15 5 A 3 3 0 0 0 15.054688 5.5605469 L 7.9394531 9.7109375 A 3 3 0 0 0 6 9 A 3 3 0 0 0 3 12 A 3 3 0 0 0 6 15 A 3 3 0 0 0 7.9355469 14.287109 L 15.054688 18.439453 A 3 3 0 0 0 15 19 A 3 3 0 0 0 18 22 A 3 3 0 0 0 21 19 A 3 3 0 0 0 18 16 A 3 3 0 0 0 16.0625 16.712891 L 8.9453125 12.560547 A 3 3 0 0 0 9 12 A 3 3 0 0 0 8.9453125 11.439453 L 16.060547 7.2890625 A 3 3 0 0 0 18 8 A 3 3 0 0 0 21 5 A 3 3 0 0 0 18 2 z"},null,-1),W=[G];function q(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("svg",{fill:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px"},W,8,k)}var M=(0,a.aZ)({props:{color:{type:String,required:!1,default:"#170A09"}}});const Z=(0,c.Z)(M,[["render",q]]);var U=Z,Y=JSON.parse('{"MONTHS":{"JANUARY":"January","FEBRUARY":"February","MARCH":"March","APRIL":"April","MAY":"May","JUNE":"June","JULY":"July","AUGUST":"August","SEPTEMBER":"September","OCTOBER":"October","NOVEMBER":"November","DECEMBER":"December"},"COUNTRY_LIST":{"DE":"Germany","ES":"Spain","WW":"International"},"LANGUAGE_LIST":{"DE":"German","ES":"Spanish","WW":"English"},"HOME_VIEW":{"FREE_CHALLENGES":"<span class=\\"regular\\">Free</span> challenges","ETHICAL_TECHNOLOGY":"<span class=\\"regular\\">Ethical</span> technology","SELECT_A_COUNTRY":"Select a country","SHARE":"Share","SHARE_MESSAGE":"Discover the challenges of ToberQuizz!%0aWill you be able to guess all of them?%0a%0ahttps://toberquizz.com"},"CHALLENGE_LIST_VIEW":{"CHALLENGE":"Challenge {challengeNumber}","SELECT_A_CHALLENGE":"Select a challenge","WHY_TOBERQUIZZ":"Why ToberQuizz?","CHALLENGES_IN":"Challenges in "},"CHALLENGE_VIEW":{"CHALLENGE":"Challenge {challengeNumber}","CHALLENGE_NOT_RESOLVED":"This challenge has not been completed by anybody yet!","HOOK":"Will you guess all?","CORRECT_ANSWERS":"Correct answers","IMAGES_PER_ROW":"Images per row: ","SHARE_HOOK":"Enjoy ToberQuizz in company! Challenge your contacts and solve all the quizzes.","SHARE_MESSAGE":"Do you dare to complete { countryName }\'s number { challengeNumber } challenge in ToberQuizz?%0a%0ahttps://toberquizz.com/%23/{countryCode}/{challengeNumber}"},"CHALLENGE_STATISTICS_VIEW":{"USERS_PERCENTAGE":"Percentage of users","COUNT_OF_CORRECT_ANSWERS":"Count of correct answers","X_CORRECT_ANSWERS":"{count} correct answers","CHALLENGE_PROGRESS":"Challenge progress"},"FOOTER":{"MADE_BY":"Made for you with much ❤️ by","CONTRIBUTE":"Do you want to know why and how to contribute?","MISSION":"ToberQuizz is completely free and its mission is purely charitable."}}'),D=JSON.parse('{"MONTHS":{"JANUARY":"Enero","FEBRUARY":"Febrero","MARCH":"Marzo","APRIL":"Abril","MAY":"Mayo","JUNE":"Junio","JULY":"Julio","AUGUST":"Agosto","SEPTEMBER":"Septiembre","OCTOBER":"Octubre","NOVEMBER":"Noviembre","DECEMBER":"Diciembre"},"COUNTRY_LIST":{"DE":"Alemania","ES":"España","WW":"Internacional"},"LANGUAGE_LIST":{"DE":"alemán","ES":"español","WW":"inglés"},"HOME_VIEW":{"FREE_CHALLENGES":"Desafíos <span class=\\"regular\\">gratuitos</span>","ETHICAL_TECHNOLOGY":"Tecnología <span class=\\"regular\\">ética</span>","SELECT_A_COUNTRY":"Selecciona un país","SHARE":"Compartir","SHARE_MESSAGE":"¡Descubre los desafíos de ToberQuizz!%0a¿Serás capaz de adivinar todos?%0a%0ahttps://toberquizz.com"},"CHALLENGE_LIST_VIEW":{"CHALLENGE":"Desafío {challengeNumber}","SELECT_A_CHALLENGE":"Selecciona un desafío","WHY_TOBERQUIZZ":"¿Por qué ToberQuizz?","CHALLENGES_IN":"Desafíos en "},"CHALLENGE_VIEW":{"CHALLENGE":"Desafío {challengeNumber}","CHALLENGE_NOT_RESOLVED":"¡Este desafío todavía no ha sido completado por nadie!","HOOK":"¿Eres capaz de adivinar todos?","CORRECT_ANSWERS":"Aciertos","IMAGES_PER_ROW":"Imágenes por fila: ","SHARE_HOOK":"¡Disfruta de ToberQuizz en compañía! Reta a tus contactos y resolved todos los desafíos.","SHARE_MESSAGE":"¿Te atreves a completar el desafío número { challengeNumber } de { countryName } en ToberQuizz?%0a%0ahttps://toberquizz.com/%23/{countryCode}/{challengeNumber}"},"CHALLENGE_STATISTICS_VIEW":{"USERS_PERCENTAGE":"Porcentaje de usuarios","COUNT_OF_CORRECT_ANSWERS":"Total de respuestas acertadas","X_CORRECT_ANSWERS":"{count} respuestas acertadas","CHALLENGE_PROGRESS":"Progreso del desafío"},"FOOTER":{"MADE_BY":"Hecho para ti con mucho ❤️ por","CONTRIBUTE":"¿Quieres saber por qué y cómo contribuir?","MISSION":"ToberQuizz es totalmente gratuito y su misión es puramente solidaria."}}');const V=()=>["ca","gl","eu"].includes(navigator.language.split("-")[0])?"es":navigator.language.split("-")[0],j=e=>{e?e===f.WorldWide?Q.global.locale="en":Q.global.locale=e.toLowerCase():Q.global.locale=V()},Q=(0,N.o)({messages:{en:Y,es:D},locale:V(),fallbackLocale:"en"});var x=(0,a.aZ)({components:{ArrowRight:z,ShareIcon:U},setup:()=>{const e=Object.values(f),{t:t}=(0,N.QT)(),n=(0,s.tv)(),r=e=>{n.push({path:`/${e}`})};return(0,a.bv)((()=>{j()})),{quizzCountries:e,t:t,goToChallengeListView:r}}});const P=(0,c.Z)(x,[["render",y],["__scopeId","data-v-4c09f5a8"]]);var B=P;const J={id:"view-container"};function F(e,t,n,r,o,s){const i=(0,a.up)("AppBar"),l=(0,a.up)("Challenge"),c=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(i),(0,a._)("div",J,[e.countryCode&&e.challengeNumber?((0,a.wg)(),(0,a.j4)(l,{key:0,countryCode:e.countryCode,challengeNumber:e.challengeNumber},null,8,["countryCode","challengeNumber"])):(0,a.kq)("",!0),(0,a.Wm)(c)])],64)}var K=n(2262);const $=e=>((0,a.dD)("data-v-65613145"),e=e(),(0,a.Cn)(),e),X={class:"regular"},ee={class:"info-box"},te=["href"],ne={class:"description"},re=$((()=>(0,a._)("hr",null,null,-1))),ae={id:"sticky-bar"};function oe(e,t,n,r,o,s){const i=(0,a.up)("ShareIcon"),l=(0,a.up)("QuestionsTable");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("h2",X,(0,h.zw)(e.t("CHALLENGE_VIEW.CHALLENGE",{challengeNumber:e.challengeNumber})),1),(0,a._)("div",ee,[(0,a._)("p",null,(0,h.zw)(e.t("CHALLENGE_VIEW.SHARE_HOOK")),1),(0,a._)("p",null,[(0,a._)("a",{href:"whatsapp://send?text="+e.t("CHALLENGE_VIEW.SHARE_MESSAGE",{countryCode:e.countryCode,countryName:e.t(`COUNTRY_LIST.${e.countryCode}`),challengeNumber:e.challengeNumber}),"data-action":"share/whatsapp/share",target:"_blank"},[(0,a.Uk)((0,h.zw)(e.t("HOME_VIEW.SHARE"))+" ",1),(0,a.Wm)(i,{color:"#1366c9"})],8,te)])]),(0,a._)("p",ne,(0,h.zw)(e.challenge.description),1),(0,a._)("p",null,(0,h.zw)(e.t("CHALLENGE_VIEW.HOOK")),1),re,(0,a.Wm)(l,{challengeNumber:e.challengeNumber,countryCode:e.countryCode,challenge:e.challenge,onAnswer:e.onAnswer},null,8,["challengeNumber","countryCode","challenge","onAnswer"]),(0,a._)("div",ae,[(0,a._)("div",null,(0,h.zw)(e.t("CHALLENGE_VIEW.CORRECT_ANSWERS"))+": "+(0,h.zw)(e.correctAnswersCount)+" / "+(0,h.zw)(e.challenge.questions.length),1)])],64)}const se={class:"columns-select"},ie={for:"numColumns"},le=["value"],ce={class:"columns-select"},ue={for:"numColumns"},pe=["value"];function he(e,t,n,o,s,i){const l=(0,a.up)("Question");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",se,[(0,a._)("label",ie,(0,h.zw)(e.t("CHALLENGE_VIEW.IMAGES_PER_ROW")),1),(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.tableColumns=t),name:"numColumns",id:"numColumns"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.availableColumns,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,h.zw)(e),9,le)))),128))],512),[[r.bM,e.tableColumns]])]),(0,a._)("div",{id:"questions-table","data-testid":"questions-table",style:(0,h.j5)({"grid-template-columns":`repeat(${e.tableColumns}, 1fr)`})},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.challenge.questions,((t,n)=>((0,a.wg)(),(0,a.j4)(l,{key:n,question:t,questionNumber:n+1,challengeNumber:e.challengeNumber,countryCode:e.countryCode,onAnswer:e.emitAnswer},null,8,["question","questionNumber","challengeNumber","countryCode","onAnswer"])))),128))],4),(0,a._)("div",ce,[(0,a._)("label",ue,(0,h.zw)(e.t("CHALLENGE_VIEW.IMAGES_PER_ROW")),1),(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.tableColumns=t),name:"numColumns",id:"numColumns"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.availableColumns,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,h.zw)(e),9,pe)))),128))],512),[[r.bM,e.tableColumns]])])],64)}const de={class:"question"},Ee=["alt","src"],ge={class:"input-container"},me=["disabled"],Ce=["disabled"];function _e(e,t,n,o,s,i){return(0,a.wg)(),(0,a.iD)("div",de,[(0,a._)("div",{class:(0,h.C_)(["image-container",e.status]),"data-testid":"image-container"},[(0,a._)("img",{alt:e.question.altText,src:`${e.imagesBucket}/${e.countryCode}/${e.challengeNumber}/${e.questionNumber}.png`},null,8,Ee)],2),(0,a._)("div",ge,[(0,a._)("label",null,(0,h.zw)(e.questionNumber)+" - ",1),(0,a.wy)((0,a._)("input",{disabled:"valid"===e.status,"onUpdate:modelValue":t[0]||(t[0]=t=>e.inputText=t)},null,8,me),[[r.nr,e.inputText]]),(0,a._)("button",{disabled:"valid"===e.status,onClick:t[1]||(t[1]=(...t)=>e.emitAnswer&&e.emitAnswer(...t))},"✔️",8,Ce)])])}var ve;(function(e){e["Error"]="error",e["Clean"]="clean",e["Valid"]="valid"})(ve||(ve={}));var be=(0,a.aZ)({emits:["answer"],props:{question:{type:Object,required:!0},questionNumber:{type:Number,required:!0},challengeNumber:{type:Number,required:!0},countryCode:{type:String,required:!0}},setup:(e,t)=>{const{questionNumber:n,question:r}=(0,K.BK)(e),o=(0,K.iH)(""),s=(0,K.iH)(ve.Clean),i=()=>{t.emit("answer",o.value.trim().replace(/\s{2,}/g," "),n.value)},l=()=>{o.value=r.value.answer||"",s.value=r.value.answer?r.value.isCorrect?ve.Valid:ve.Error:ve.Clean};(0,a.bv)((()=>l())),(0,a.YP)(r,(()=>l()));const c=(0,a.Fl)((()=>"https://vshirurkfkcqdabtrcnt.supabase.in/storage/v1/object/public/resources"));return{inputText:o,status:s,emitAnswer:i,imagesBucket:c}}});const we=(0,c.Z)(be,[["render",_e],["__scopeId","data-v-d72f2c9e"]]);var Ae=we,ye=(0,a.aZ)({components:{Question:Ae},emits:["answer"],props:{challenge:{type:Object,required:!0},challengeNumber:{type:Number,required:!0},countryCode:{type:String,required:!0}},setup:function(e,t){const{t:n}=(0,N.QT)(),r=(0,K.iH)(window.innerWidth>992?[3,4,5,6]:[1,2]),a=(0,K.iH)(window.innerWidth>992?4:1),o=(e,n)=>{t.emit("answer",e,n)};return{tableColumns:a,availableColumns:r,emitAnswer:o,t:n}}});const fe=(0,c.Z)(ye,[["render",he]]);var Ne=fe;class Se{constructor(e,t){(0,S.Z)(this,"challengeRepository",void 0),(0,S.Z)(this,"answerRepository",void 0),this.challengeRepository=e,this.answerRepository=t}async execute(e,t){const n=await this.challengeRepository.get(e,t),r=await this.answerRepository.get(e,t),a=n.fillAnswers(r);return a}}class Le{constructor(e){(0,S.Z)(this,"hashingAlgorithm",void 0),this.hashingAlgorithm=e}async execute(e){return await this.hashingAlgorithm.checkChallenge(e)}}class Te{constructor(e,t,n){(0,S.Z)(this,"hashingAlgorithm",void 0),(0,S.Z)(this,"answerRepository",void 0),(0,S.Z)(this,"statisticsCollector",void 0),this.hashingAlgorithm=e,this.answerRepository=t,this.statisticsCollector=n}async execute(e,t,n,r,a){const o=n.answerQuestion(r,a);await this.answerRepository.save(e,t,o);const s=await this.hashingAlgorithm.checkQuestion(o.questions[r-1]),i=o.checkQuestion(r,s.isCorrect||!1);if(s.isCorrect){const n=i.questions.filter((e=>e.isCorrect)).length;this.statisticsCollector.collect({countryCode:e,challengeNumber:t,correctAnswersCount:n})}return i}}var Oe=n(477),Ie=n.n(Oe);class Re{async checkQuestion(e){if(!e.answer)return{...e};const t=await Ie().hash({pass:e.answer.toLocaleLowerCase(),salt:Re.SALT,hashLen:Re.HASH_LENGTH,type:Re.TYPE}),n=!!e.solutions.find((e=>e===t.hashHex));return{...e,isCorrect:n}}checkQuestions(e){const t=e.map(this.checkQuestion);return Promise.all(t)}async checkChallenge(e){return e.merge({questions:await this.checkQuestions(e.questions)})}}(0,S.Z)(Re,"SALT","Tobertet"),(0,S.Z)(Re,"HASH_LENGTH",32),(0,S.Z)(Re,"TYPE",Ie().ArgonType.Argon2id);class He{constructor(e,t){(0,S.Z)(this,"apiQueueRepository",void 0),(0,S.Z)(this,"supabaseClient",void 0),this.apiQueueRepository=e,this.supabaseClient=t}async collect(e){const t=await this.loadEvents();await this.storeEvents([...t,e]),await this.sendStoredEvents()}async sendStoredEvents(){const e=await this.loadEvents(),{error:t}=await this.supabaseClient.from("correct_answers").insert(e.map((e=>({country_code:e.countryCode,challenge_number:e.challengeNumber,correct_answers_count:e.correctAnswersCount}))),{returning:"minimal"});t||await this.clearEvents()}async loadEvents(){return await this.apiQueueRepository.get()}async storeEvents(e){await this.apiQueueRepository.save(e)}async clearEvents(){await this.apiQueueRepository.delete()}}var ze=n(9669),ke=n.n(ze);class Ge{constructor(e){(0,S.Z)(this,"resourcesUri",void 0),this.resourcesUri=e}async get(e,t){const n=`${this.resourcesUri}/${e}/${t}/challenge.json`,r=await ke().get(n);return(new L).merge(r.data)}}var We=n(8602);class qe{async get(e,t){const n=(await We.K.get({key:`${e}_${t}`})).value;return n?JSON.parse(n):[]}save(e,t,n){const r=n.questions.map((e=>e.answer));return We.K.set({key:`${e}_${t}`,value:JSON.stringify(r)})}}class Me{async get(){const e=(await We.K.get({key:Me.STORAGE_KEY})).value;return e?JSON.parse(e):[]}async save(e){return We.K.set({key:Me.STORAGE_KEY,value:JSON.stringify(e)})}async delete(){return We.K.remove({key:Me.STORAGE_KEY})}}(0,S.Z)(Me,"STORAGE_KEY","API_QUEUE");var Ze=n(2619);const Ue=(0,Ze.eI)("https://vshirurkfkcqdabtrcnt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZzaGlydXJrZmtjcWRhYnRyY250Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDUxODEwNTYsImV4cCI6MTk2MDc1NzA1Nn0.7aJF0QXcKziX2n3fgI8wdoW1_BqPuY40biwYXnPytUE"),Ye=new qe,De=new Ge("https://vshirurkfkcqdabtrcnt.supabase.in/storage/v1/object/public/resources"),Ve=new Me,je=new Re,Qe=new He(Ve,Ue),xe=new Se(De,Ye),Pe=new Le(je),Be=new Te(je,Ye,Qe);function Je(){return{getUserChallenge:xe,checkChallenge:Pe,answerQuestion:Be}}function Fe(e,t){const n=(0,K.iH)(new L),{getUserChallenge:r,checkChallenge:o}=Je();(0,a.bv)((async()=>{const a=await r.execute(e.value,t.value);n.value=await o.execute(a)})),(0,a.YP)([t,e],(async()=>{const a=await r.execute(e.value,t.value);n.value=await o.execute(a)}));const s=(0,a.Fl)((()=>n.value.questions.filter((e=>e.isCorrect)).length));return{challenge:n,correctAnswersCount:s}}var Ke=(0,a.aZ)({props:{challengeNumber:{type:Number,required:!0},countryCode:{type:String,required:!0}},components:{QuestionsTable:Ne,ShareIcon:U},setup:e=>{const{challengeNumber:t,countryCode:n}=(0,K.BK)(e),{t:r}=(0,N.QT)(),{challenge:a,correctAnswersCount:o}=Fe(n,t),{answerQuestion:s}=Je(),i=async(e,r)=>{a.value=await s.execute(n.value,t.value,a.value,r,e)};return{challenge:a,correctAnswersCount:o,onAnswer:i,t:r}}});const $e=(0,c.Z)(Ke,[["render",oe],["__scopeId","data-v-65613145"]]);var Xe=$e;const et=(0,a._)("hr",null,null,-1),tt={class:"regular",rel:"noopener noreferrer",target:"_blank",href:"https://robertmengual.com/projects;project=toberquizz"},nt=(0,a._)("span",{class:"regular"},"Robert Mengual",-1),rt=(0,a.Uk)(". ");function at(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("footer",null,[et,(0,a._)("p",null,[(0,a.Uk)((0,h.zw)(e.t("FOOTER.MISSION"))+" ",1),(0,a._)("a",tt,(0,h.zw)(e.t("FOOTER.CONTRIBUTE")),1)]),(0,a._)("p",null,[(0,a.Uk)((0,h.zw)(e.t("FOOTER.MADE_BY"))+" ",1),nt,rt])])}var ot=(0,a.aZ)({setup:()=>{const{t:e}=(0,N.QT)();return{t:e}}});const st=(0,c.Z)(ot,[["render",at]]);var it=st;const lt={id:"app-bar"};function ct(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("div",lt,[(0,a._)("img",{class:"pointer",alt:"ToberQuizz logo",onClick:t[0]||(t[0]=(...t)=>e.goToHomeView&&e.goToHomeView(...t)),src:"/secondary-logo.png"})])}var ut=(0,a.aZ)({setup:()=>{const e=(0,s.tv)(),t=()=>{e.push({path:"/"})};return{goToHomeView:t}}});const pt=(0,c.Z)(ut,[["render",ct],["__scopeId","data-v-18b4048e"]]);var ht=pt,dt=(0,a.aZ)({components:{Challenge:Xe,Footer:it,AppBar:ht},setup:()=>{const e=(0,K.iH)(),t=(0,K.iH)(),n=(0,s.yj)(),r=(0,s.tv)();(0,a.bv)((()=>{o(),j(e.value)})),(0,a.YP)([n],(()=>{o(),j(e.value)}));const o=()=>{if(!n.params.countryCode||!n.params.challengeNumber)return;const a=(n.params.countryCode||"").toUpperCase(),o=parseInt(n.params.challengeNumber);Object.values(f).includes(a)&&!isNaN(o)?(e.value=a,t.value=o):r.replace("/")};return{countryCode:e,challengeNumber:t}}});const Et=(0,c.Z)(dt,[["render",F]]);var gt=Et;const mt={id:"view-container"};function Ct(e,t,n,r,o,s){const i=(0,a.up)("AppBar"),l=(0,a.up)("ChallengeStatistics");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(i),(0,a._)("div",mt,[e.challengeNumber&&e.countryCode?((0,a.wg)(),(0,a.j4)(l,{key:0,challengeNumber:e.challengeNumber,countryCode:e.countryCode},null,8,["challengeNumber","countryCode"])):(0,a.kq)("",!0)])],64)}const _t=e=>((0,a.dD)("data-v-401333ed"),e=e(),(0,a.Cn)(),e),vt={class:"regular"},bt={class:"description"},wt=_t((()=>(0,a._)("hr",null,null,-1))),At={class:"regular"},yt={style:{"margin-bottom":"40px"}},ft={id:"sticky-bar"};function Nt(e,t,n,r,o,s){const i=(0,a.up)("BarChart");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("h2",vt,(0,h.zw)(e.t("CHALLENGE_VIEW.CHALLENGE",{challengeNumber:e.challengeNumber})),1),(0,a._)("p",bt,(0,h.zw)(e.challenge.description),1),(0,a._)("p",null,(0,h.zw)(e.t("CHALLENGE_VIEW.HOOK")),1),wt,(0,a._)("h3",At,(0,h.zw)(e.t("CHALLENGE_STATISTICS_VIEW.CHALLENGE_PROGRESS")),1),(0,a._)("div",yt,[e.chartData?((0,a.wg)(),(0,a.j4)(i,{key:0,chartData:e.chartData,options:e.chartOptions,height:800},null,8,["chartData","options"])):(0,a.kq)("",!0)]),(0,a._)("div",ft,[(0,a._)("div",null,(0,h.zw)(e.t("CHALLENGE_VIEW.CORRECT_ANSWERS"))+": "+(0,h.zw)(e.correctAnswersCount)+" / "+(0,h.zw)(e.challenge.questions.length),1)])],64)}const St=(0,Ze.eI)("https://vshirurkfkcqdabtrcnt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZzaGlydXJrZmtjcWRhYnRyY250Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDUxODEwNTYsImV4cCI6MTk2MDc1NzA1Nn0.7aJF0QXcKziX2n3fgI8wdoW1_BqPuY40biwYXnPytUE");var Lt=n(7158),Tt=n(2728);Tt.kL.register(Tt.vn,Tt.ZL,Tt.uw,Tt.f$,Tt.u);var Ot=(0,a.aZ)({props:{challengeNumber:{type:Number,required:!0},countryCode:{type:String,required:!0}},components:{BarChart:Lt.vz},setup:e=>{const{challengeNumber:t,countryCode:n}=(0,K.BK)(e),r=(0,K.iH)(),{t:o}=(0,N.QT)(),{challenge:s,correctAnswersCount:i}=Fe(n,t);(0,a.YP)([s],(async()=>{const e=s.value.questions.length,{data:a}=await St.rpc("challenge_statistics",{country_code_arg:n.value,challenge_number_arg:t.value}),o=a?.map(((e,t,n)=>{if(0===t)return e;const r={percentage:n[t-1].percentage<e.percentage?n[t-1].percentage:e.percentage};return r}));r.value={labels:Array.from({length:e},((e,t)=>t+1)),datasets:[{data:o?.map((e=>e.percentage))||[]}]}}));const l={indexAxis:"y",elements:{bar:{backgroundColor:e=>e.dataIndex+1===i.value?"#ffa316":"#4aab79"}},scales:{y:{title:{display:!0,text:o("CHALLENGE_STATISTICS_VIEW.COUNT_OF_CORRECT_ANSWERS")}},x:{title:{display:!0,text:o("CHALLENGE_STATISTICS_VIEW.USERS_PERCENTAGE")},min:0,max:100,ticks:{callback:e=>e+"%"}}},responsive:!0,plugins:{legend:{display:!1},tooltip:{displayColors:!1,callbacks:{title:e=>o("CHALLENGE_STATISTICS_VIEW.X_CORRECT_ANSWERS",{count:e[0].label}),label:e=>e.formattedValue+"%"}}}};return{challenge:s,correctAnswersCount:i,t:o,chartData:r,chartOptions:l}}});const It=(0,c.Z)(Ot,[["render",Nt],["__scopeId","data-v-401333ed"]]);var Rt=It,Ht=(0,a.aZ)({components:{AppBar:ht,ChallengeStatistics:Rt},setup:()=>{const e=(0,K.iH)(),t=(0,K.iH)(),n=(0,s.tv)(),r=(0,s.yj)();(0,a.bv)((()=>{o(),j(e.value)})),(0,a.YP)([r],(()=>{o(),j(e.value)}));const o=()=>{if(!r.params.countryCode||!r.params.challengeNumber)return;const a=(r.params.countryCode||"").toUpperCase(),o=parseInt(r.params.challengeNumber);Object.values(f).includes(a)&&!isNaN(o)?(e.value=a,t.value=o):n.replace("/")};return{countryCode:e,challengeNumber:t}}});const zt=(0,c.Z)(Ht,[["render",Ct]]);var kt=zt;const Gt={id:"view-container"},Wt={class:"regular"},qt={id:"why-toberquizz"},Mt={class:"regular",rel:"noopener noreferrer",target:"_blank",href:"https://robertmengual.com/projects;project=toberquizz"},Zt={class:"regular list-heading"},Ut={class:"list-item not-allowed"},Yt={class:"gray"},Dt={class:"danger"},Vt=["onClick"],jt={class:"end-icons"};function Qt(e,t,n,o,s,i){const l=(0,a.up)("AppBar"),c=(0,a.up)("ArrowRight"),u=(0,a.up)("StatisticsIcon");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a._)("div",Gt,[(0,a._)("h2",null,[(0,a.Uk)((0,h.zw)(e.t("CHALLENGE_LIST_VIEW.CHALLENGES_IN"))+" ",1),(0,a._)("span",Wt,(0,h.zw)(e.t(`COUNTRY_LIST.${e.countryCode}`)+" ("+e.t(`LANGUAGE_LIST.${e.countryCode}`)+")"),1)]),(0,a._)("p",qt,[(0,a._)("a",Mt,(0,h.zw)(e.t("CHALLENGE_LIST_VIEW.WHY_TOBERQUIZZ")),1)]),(0,a._)("div",null,[(0,a._)("p",Zt,(0,h.zw)(e.t("CHALLENGE_LIST_VIEW.SELECT_A_CHALLENGE")),1),(0,a._)("div",Ut,[(0,a._)("p",Yt,[(0,a.Uk)((0,h.zw)(e.t("CHALLENGE_LIST_VIEW.CHALLENGE",{challengeNumber:e.challenges.length+1}))+" ",1),(0,a._)("span",Dt,"("+(0,h.zw)(e.t("MONTHS.MAY"))+")",1)]),(0,a.Wm)(c,{color:"#a0a0a0"})]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys(e.challenges).reverse(),(t=>((0,a.wg)(),(0,a.iD)("div",{class:"list-item pointer",key:t,onClick:n=>e.goToChallengeView(parseInt(t)+1)},[(0,a._)("p",null,(0,h.zw)(e.t("CHALLENGE_LIST_VIEW.CHALLENGE",{challengeNumber:parseInt(t)+1})),1),(0,a._)("div",jt,[(0,a.Wm)(u,{onClick:(0,r.iM)((n=>e.goToChallengeStatisticsView(parseInt(t)+1)),["stop"])},null,8,["onClick"]),(0,a.Wm)(c)])],8,Vt)))),128))])])],64)}const xt={version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"24",height:"27","xmlns:xlink":"http://www.w3.org/1999/xlink","enable-background":"new 0 0 512 512"},Pt=(0,a._)("g",null,[(0,a._)("g",null,[(0,a._)("path",{d:"m108.5,400.3l77.2-112.8 81.7,78.8c13.7,11.6 27.3,3.1 30.9-3l135.6-194.3 4.9,65c0.8,10.7 9.8,18.9 20.3,18.9 12,0 21.2-10.7 20.4-22l-8.6-114.3c-0.9-11.2-10.6-19.7-21.9-18.8l-114.3,8.6c-11.2,0.8-19.7,10.6-18.8,21.9 0.8,11.2 10.6,19.6 21.9,18.8l65-4.9-124.2,178-81.9-78.9c-5-5.7-20-10.8-31,3.2l-73,106.6v57.9c6.1-0.3 12.1-3.3 15.8-8.7z"}),(0,a._)("path",{d:"M480.6,460.2H51.8V31.4c0-11.3-9.1-20.4-20.4-20.4C20.1,11,11,20.1,11,31.4v449.2c0,11.3,9.1,20.4,20.4,20.4h449.2    c11.3,0,20.4-9.1,20.4-20.4C501,469.3,491.9,460.2,480.6,460.2z"})])],-1),Bt=[Pt];function Jt(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("svg",xt,Bt)}var Ft=(0,a.aZ)({props:{color:{type:String,required:!1,default:"#170A09"}}});const Kt=(0,c.Z)(Ft,[["render",Jt]]);var $t=Kt,Xt=(0,a.aZ)({components:{ArrowRight:z,AppBar:ht,StatisticsIcon:$t},setup:()=>{const e=(0,s.tv)(),t=(0,s.yj)(),{t:n}=(0,N.QT)(),r=(0,K.iH)(new Array),o=(0,K.iH)(f.WorldWide),i=n=>{e.push({path:`/${t.params.countryCode}/${n}`})},l=n=>{e.push({path:`/stats/${t.params.countryCode}/${n}`})};(0,a.bv)((()=>{c(),j(o.value),u()})),(0,a.YP)([t],(()=>{c(),j(o.value),u()}));const c=()=>{const n=t.params.countryCode||"";if(!n)return;if(n.toUpperCase()!=n)return void e.replace(`/${n.toUpperCase()}`);const r=n;Object.values(f).includes(r)?o.value=r:e.replace("/")},u=async()=>{const e=`https://vshirurkfkcqdabtrcnt.supabase.in/storage/v1/object/public/resources/${o.value}/challenges.json`,t=await(await ke().get(e)).data;r.value=t};return{goToChallengeView:i,challenges:r,t:n,countryCode:o,goToChallengeStatisticsView:l}}});const en=(0,c.Z)(Xt,[["render",Qt],["__scopeId","data-v-338721c0"]]);var tn=en;const nn=[{path:"/",component:B},{path:"/:countryCode",component:tn},{path:"/:countryCode/:challengeNumber",component:gt},{path:"/stats/:countryCode/:challengeNumber",component:kt}],rn=(0,s.p7)({history:(0,s.r5)("/"),routes:nn});var an=rn;(0,r.ri)(p).use(Q).use(an).mount("#app")},8866:function(){}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var s=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],o=e[u][2];for(var i=!0,l=0;l<r.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(i=!1,o<s&&(s=o));if(i){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){s[e]=function(){return r[e]}}));return s["default"]=function(){return r},n.d(o,s),o}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{486:"c757427b",645:"117081fb"}[e]+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="toberquizz:";n.l=function(r,a,o,s){if(e[r])e[r].push(a);else{var i,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var p=c[u];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==t+o){i=p;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+o),i.src=r),e[r]=[a];var h=function(t,n){i.onerror=i.onload=null,clearTimeout(d);var a=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.p="/"}(),function(){var e={143:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=o);var s=n.p+n.u(t),i=new Error,l=function(r){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",i.name="ChunkLoadError",i.type=o,i.request=s,a[1](i)}};n.l(s,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,s=r[0],i=r[1],l=r[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(l)var u=l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self["webpackChunktoberquizz"]=self["webpackChunktoberquizz"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(3808)}));r=n.O(r)})();
//# sourceMappingURL=app.7693b73c.js.map